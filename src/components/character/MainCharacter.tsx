"use client";

import { useGSAP } from "@gsap/react";
import gsap from "gsap";
import { useRef } from "react";

gsap.registerPlugin(useGSAP);

const MainCharacter = () => {
  const ref = useRef<SVGSVGElement>(null);

  useGSAP(
    () => {
      const tl = gsap.timeline();
      tl.fromTo(ref.current, { y: 50 }, { y: 0, duration: 0.3 });
      tl.to("#picket", {
        rotation: -30,
        duration: 0.15,
        repeat: 5,
        yoyo: true,
        transformOrigin: "bottom right",
      });

      // gsap.to("#picket", {
      //   rotation: -30,
      //   duration: 0.15,
      //   repeat: 5,
      //   yoyo: true,
      //   transformOrigin: "bottom right",
      // });
    },
    { scope: ref }
  );

  return (
    <svg
      ref={ref}
      width="178"
      height="89"
      viewBox="0 0 178 89"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clip-path="url(#clip0_557_19367)">
        <path
          d="M127.154 89.4684H70.3238C69.3238 87.2284 69.2638 84.4584 69.7138 81.5984C69.8738 80.4984 70.1238 79.3784 70.4238 78.2784C70.7638 76.9784 71.1838 75.6984 71.6338 74.4884C73.4938 69.3984 75.8838 65.3384 75.8838 65.3384C75.8838 65.3384 82.4938 64.1684 89.9538 63.1984C93.0138 62.8084 96.2138 62.4384 99.1638 62.1984H99.1738C104.724 61.7484 109.364 61.7584 110.414 62.8384C111.804 64.2684 113.864 70.1384 115.684 76.0084C116.024 77.1284 116.364 78.2484 116.684 79.3384C117.724 79.9884 119.024 80.9184 120.514 82.2184C122.454 83.9184 124.714 86.2584 127.154 89.4684Z"
          fill="#C1D88D"
        />
        <path
          d="M135.824 54.9896C135.234 66.9296 130.074 75.7696 121.944 81.3096C114.734 86.2296 105.444 88.3896 95.5439 88.1796C94.4539 88.1596 93.3539 88.1096 92.2539 88.0296C86.2139 87.5996 80.4239 86.3596 75.2139 84.2596C70.8239 82.4996 66.8239 80.1196 63.4239 77.1096C55.9039 70.4496 51.6439 60.9396 52.2339 48.9896C52.5639 42.3796 54.3139 36.1996 57.1739 30.7696C60.4239 24.5896 64.2939 18.6396 68.6239 13.1396C75.3339 4.6096 85.1439 -0.700396 96.0539 0.0796037C105.854 0.779604 114.294 6.2596 120.144 14.1996C124.674 20.3596 128.564 27.0596 131.734 33.9296C134.694 40.3196 136.194 47.4996 135.824 54.9996V54.9896Z"
          fill="#C1D88D"
        />
        <path
          d="M127.533 52.2901C128.483 69.4101 114.553 81.1601 96.5929 82.1301C78.6429 83.1001 63.4829 72.9101 62.5229 55.8001C61.5729 38.6801 75.3429 24.0301 93.3029 23.0701C111.263 22.1001 126.573 35.1901 127.533 52.3001V52.2901Z"
          fill="#F5F5E1"
        />
        <path
          d="M83.5847 46.7194C85.2647 46.8194 86.1647 48.6294 86.0547 50.6394C85.9447 52.6494 84.8647 54.0994 83.1847 53.9994C81.5047 53.9094 80.2247 52.1894 80.3347 50.1894C80.4447 48.1794 81.9047 46.6194 83.5847 46.7194Z"
          fill="#44443F"
        />
        <path
          d="M106.673 46.5397C108.353 46.6297 109.453 48.5197 109.343 50.5297C109.233 52.5397 107.953 53.9197 106.263 53.8197C104.573 53.7297 103.303 52.0097 103.413 50.0097C103.523 47.9997 104.983 46.4397 106.663 46.5397H106.673Z"
          fill="#44443F"
        />
        <path
          d="M100.672 65.3202C100.542 62.1802 97.0418 60.3702 94.9418 60.4602C92.0018 60.5802 89.1618 62.6402 89.3018 65.7802C89.4418 68.9102 93.1518 68.8002 95.2418 68.7202C97.3418 68.6402 100.802 68.4602 100.672 65.3302V65.3202Z"
          fill="#44443F"
        />
        <g id="picket">
          <path
            d="M48.0604 73.0803C47.1904 73.0803 46.3904 72.5103 46.1404 71.6403L41.7604 56.5803C41.4504 55.5203 42.0604 54.4103 43.1204 54.1003C44.1804 53.7903 45.2904 54.4003 45.6004 55.4603L49.9804 70.5203C50.2904 71.5803 49.6804 72.6903 48.6204 73.0003C48.4304 73.0503 48.2404 73.0803 48.0604 73.0803Z"
            fill="#9F9F16"
          />
          <path
            d="M39.2528 61.8884C50.9171 61.8884 60.3728 52.4327 60.3728 40.7684C60.3728 29.1042 50.9171 19.6484 39.2528 19.6484C27.5886 19.6484 18.1328 29.1042 18.1328 40.7684C18.1328 52.4327 27.5886 61.8884 39.2528 61.8884Z"
            fill="#FFFFF3"
          />
          <path
            d="M34.2044 35.9984C33.9844 35.2284 33.6544 34.0084 33.2344 32.3484L39.0844 30.6484C39.6344 32.3584 40.0344 33.6284 40.2744 34.4484C41.0744 37.1984 41.7544 39.9684 42.3044 42.7784L37.0244 44.3084C35.9144 41.4384 34.9744 38.6684 34.1944 35.9984H34.2044ZM39.1844 50.1984C38.4944 49.8284 38.0244 49.1984 37.7644 48.3084C37.5044 47.4184 37.5644 46.6284 37.9544 45.9384C38.3344 45.2484 39.0044 44.7684 39.9444 44.4984C40.8844 44.2284 41.7044 44.2784 42.3944 44.6584C43.0844 45.0384 43.5644 45.6684 43.8144 46.5484C44.0744 47.4384 44.0144 48.2184 43.6244 48.8984C43.2344 49.5784 42.5744 50.0584 41.6344 50.3284C40.6944 50.5984 39.8744 50.5584 39.1844 50.1884V50.1984Z"
            fill="#72B76D"
          />
          <path
            d="M84.3638 89.4716H57.9438C53.8838 86.8316 49.4537 83.3116 45.0937 78.6716C42.0737 75.4516 42.2337 70.3916 45.4537 67.3616C48.2637 64.7416 52.4437 64.5116 55.4837 66.6216C55.9337 66.9416 56.3638 67.3116 56.7638 67.7316C61.6238 72.9116 66.5338 76.2216 70.4237 78.2816C74.8737 80.6416 77.9538 81.3616 78.0138 81.3716C80.9938 81.9816 83.2238 84.1716 84.0338 86.8916C84.2838 87.7116 84.3938 88.5816 84.3638 89.4716Z"
            fill="#C1D88D"
          />
        </g>
      </g>
      <defs>
        <clipPath id="clip0_557_19367">
          <rect width="178" height="89" fill="white" />
        </clipPath>
      </defs>
    </svg>
  );
};

export default MainCharacter;
